
import { Task } from "gantt-task-react";

function getData(id: number ) {
  // Fetch data from your API here.
  const v = [
    {
        id: "1",
        K1_startYear: 2024,
        K1_startMonth: 1,
        K1_startDay: 10,
        K1_endYear: 2024,
        K1_endMonth: 1,
        K1_endDay: 25,
        K2_startYear: 2024,
        K2_startMonth: 1,
        K2_startDay: 25,
        K2_endYear: 2024,
        K2_endMonth: 2,
        K2_endDay: 5,
        K3_startYear: 2024,
        K3_startMonth: 2,
        K3_startDay: 5,
        K3_endYear: 2024,
        K3_endMonth: 2,
        K3_endDay: 20,
        K4_startYear: 2024,
        K4_startMonth: 2,
        K4_startDay: 20,
        K4_endYear: 2024,
        K4_endMonth: 3,
        K4_endDay: 10,
        K5_startYear: 2024,
        K5_startMonth: 3,
        K5_startDay: 10,
        K5_endYear: 2024,
        K5_endMonth: 3,
        K5_endDay: 25,
        K6_startYear: 2024,
        K6_startMonth: 3,
        K6_startDay: 25,
        K6_endYear: 2024,
        K6_endMonth: 5,
        K6_endDay: 10,
        K7_startYear: 2024,
        K7_startMonth: 4,
        K7_startDay: 20,
        K7_endYear: 2024,
        K7_endMonth: 5,
        K7_endDay: 10,
        Rov_startYear: 2024,
        Rov_startMonth: 5,
        Rov_startDay: 1,
        Rov_endYear: 2024,
        Rov_endMonth: 5,
        Rov_endDay: 10,
        InitLoad_startYear: 2024,
        InitLoad_startMonth: 5,
        InitLoad_startDay: 10,
        InitLoad_endYear: 2024,
        InitLoad_endMonth: 6,
        InitLoad_endDay: 10,
        OE_startYear: 2024,
        OE_startMonth: 6,
        OE_startDay: 10,
        OE_endYear: 2024,
        OE_endMonth: 6,
        OE_endDay: 30,
        PE_startYear: 2024,
        PE_startMonth: 6,
        PE_startDay: 30,
        PE_endYear: 2024,
        PE_endMonth: 8,
        PE_endDay: 10,

    },
    {
        id: "2",
        K1_startYear: 2024,
        K1_startMonth: 2,
        K1_startDay: 10,
        K1_endYear: 2024,
        K1_endMonth: 2,
        K1_endDay: 25,
        K2_startYear: 2024,
        K2_startMonth: 2,
        K2_startDay: 25,
        K2_endYear: 2024,
        K2_endMonth: 3,
        K2_endDay: 5,
        K3_startYear: 2024,
        K3_startMonth: 3,
        K3_startDay: 5,
        K3_endYear: 2024,
        K3_endMonth: 3,
        K3_endDay: 20,
        K4_startYear: 2024,
        K4_startMonth: 3,
        K4_startDay: 20,
        K4_endYear: 2024,
        K4_endMonth: 4,
        K4_endDay: 10,
        K5_startYear: 2024,
        K5_startMonth: 3,
        K5_startDay: 20,
        K5_endYear: 2024,
        K5_endMonth: 4,
        K5_endDay: 25,
        K6_startYear: 2024,
        K6_startMonth: 4,
        K6_startDay: 25,
        K6_endYear: 2024,
        K6_endMonth: 6,
        K6_endDay: 10,
        K7_startYear: 2024,
        K7_startMonth: 5,
        K7_startDay: 20,
        K7_endYear: 2024,
        K7_endMonth: 6,
        K7_endDay: 10,
        Rov_startYear: 2024,
        Rov_startMonth: 5,
        Rov_startDay: 1,
        Rov_endYear: 2024,
        Rov_endMonth: 6,
        Rov_endDay: 10,
        InitLoad_startYear: 2024,
        InitLoad_startMonth: 6,
        InitLoad_startDay: 10,
        InitLoad_endYear: 2024,
        InitLoad_endMonth: 7,
        InitLoad_endDay: 10,
        OE_startYear: 2024,
        OE_startMonth: 7,
        OE_startDay: 10,
        OE_endYear: 2024,
        OE_endMonth: 7,
        OE_endDay: 30,
        PE_startYear: 2024,
        PE_startMonth: 7,
        PE_startDay: 30,
        PE_endYear: 2024,
        PE_endMonth: 9,
        PE_endDay: 10,
    },
    {
        id: "3",
        
        K1_startYear: 2024,
        K1_startMonth: 2,
        K1_startDay: 10,
        K1_endYear: 2024,
        K1_endMonth: 2,
        K1_endDay: 25,
        K2_startYear: 2024,
        K2_startMonth: 2,
        K2_startDay: 10,
        K2_endYear: 2024,
        K2_endMonth: 3,
        K2_endDay: 5,
        K3_startYear: 2024,
        K3_startMonth: 2,
        K3_startDay: 10,
        K3_endYear: 2024,
        K3_endMonth: 3,
        K3_endDay: 20,
        K4_startYear: 2024,
        K4_startMonth: 3,
        K4_startDay: 20,
        K4_endYear: 2024,
        K4_endMonth: 4,
        K4_endDay: 10,
        K5_startYear: 2024,
        K5_startMonth: 3,
        K5_startDay: 20,
        K5_endYear: 2024,
        K5_endMonth: 4,
        K5_endDay: 25,
        K6_startYear: 2024,
        K6_startMonth: 4,
        K6_startDay: 25,
        K6_endYear: 2024,
        K6_endMonth: 6,
        K6_endDay: 10,
        K7_startYear: 2024,
        K7_startMonth: 5,
        K7_startDay: 20,
        K7_endYear: 2024,
        K7_endMonth: 6,
        K7_endDay: 10,
        Rov_startYear: 2024,
        Rov_startMonth: 5,
        Rov_startDay: 20,
        Rov_endYear: 2024,
        Rov_endMonth: 6,
        Rov_endDay: 10,
        InitLoad_startYear: 2024,
        InitLoad_startMonth: 6,
        InitLoad_startDay: 10,
        InitLoad_endYear: 2024,
        InitLoad_endMonth: 7,
        InitLoad_endDay: 10,
        OE_startYear: 2024,
        OE_startMonth: 7,
        OE_startDay: 10,
        OE_endYear: 2024,
        OE_endMonth: 7,
        OE_endDay: 30,
        PE_startYear: 2024,
        PE_startMonth: 7,
        PE_startDay: 30,
        PE_endYear: 2024,
        PE_endMonth: 9,
        PE_endDay: 10,
      },
      {
        id: "4",
       
        K1_startYear: 2024,
        K1_startMonth: 2,
        K1_startDay: 10,
        K1_endYear: 2024,
        K1_endMonth: 2,
        K1_endDay: 25,
        K2_startYear: 2024,
        K2_startMonth: 2,
        K2_startDay: 10,
        K2_endYear: 2024,
        K2_endMonth: 3,
        K2_endDay: 5,
        K3_startYear: 2024,
        K3_startMonth: 2,
        K3_startDay: 10,
        K3_endYear: 2024,
        K3_endMonth: 3,
        K3_endDay: 20,
        K4_startYear: 2024,
        K4_startMonth: 3,
        K4_startDay: 20,
        K4_endYear: 2024,
        K4_endMonth: 4,
        K4_endDay: 10,
        K5_startYear: 2024,
        K5_startMonth: 4,
        K5_startDay: 10,
        K5_endYear: 2024,
        K5_endMonth: 4,
        K5_endDay: 25,
        K6_startYear: 2024,
        K6_startMonth: 4,
        K6_startDay: 25,
        K6_endYear: 2024,
        K6_endMonth: 6,
        K6_endDay: 10,
        K7_startYear: 2024,
        K7_startMonth: 5,
        K7_startDay: 20,
        K7_endYear: 2024,
        K7_endMonth: 6,
        K7_endDay: 10,
        Rov_startYear: 2024,
        Rov_startMonth: 5,
        Rov_startDay: 20,
        Rov_endYear: 2024,
        Rov_endMonth: 6,
        Rov_endDay: 10,
        InitLoad_startYear: 2024,
        InitLoad_startMonth: 6,
        InitLoad_startDay: 10,
        InitLoad_endYear: 2024,
        InitLoad_endMonth: 7,
        InitLoad_endDay: 10,
        OE_startYear: 2024,
        OE_startMonth: 7,
        OE_startDay: 10,
        OE_endYear: 2024,
        OE_endMonth: 7,
        OE_endDay: 30,
        PE_startYear: 2024,
        PE_startMonth: 7,
        PE_startDay: 30,
        PE_endYear: 2024,
        PE_endMonth: 9,
        PE_endDay: 10,
      },
      {
        id: "5",
        K1_startYear: 2024,
        K1_startMonth: 2,
        K1_startDay: 10,
        K1_endYear: 2024,
        K1_endMonth: 2,
        K1_endDay: 25,
        K2_startYear: 2024,
        K2_startMonth: 2,
        K2_startDay: 10,
        K2_endYear: 2024,
        K2_endMonth: 3,
        K2_endDay: 5,
        K3_startYear: 2024,
        K3_startMonth: 3,
        K3_startDay: 20,
        K3_endYear: 2024,
        K3_endMonth: 3,
        K3_endDay: 20,
        K4_startYear: 2024,
        K4_startMonth: 3,
        K4_startDay: 20,
        K4_endYear: 2024,
        K4_endMonth: 4,
        K4_endDay: 10,
        K5_startYear: 2024,
        K5_startMonth: 3,
        K5_startDay: 20,
        K5_endYear: 2024,
        K5_endMonth: 4,
        K5_endDay: 25,
        K6_startYear: 2024,
        K6_startMonth: 4,
        K6_startDay: 25,
        K6_endYear: 2024,
        K6_endMonth: 6,
        K6_endDay: 10,
        K7_startYear: 2024,
        K7_startMonth: 5,
        K7_startDay: 20,
        K7_endYear: 2024,
        K7_endMonth: 6,
        K7_endDay: 10,
        Rov_startYear: 2024,
        Rov_startMonth: 5,
        Rov_startDay: 20,
        Rov_endYear: 2024,
        Rov_endMonth: 6,
        Rov_endDay: 10,
        InitLoad_startYear: 2024,
        InitLoad_startMonth: 6,
        InitLoad_startDay: 10,
        InitLoad_endYear: 2024,
        InitLoad_endMonth: 7,
        InitLoad_endDay: 10,
        OE_startYear: 2024,
        OE_startMonth: 7,
        OE_startDay: 10,
        OE_endYear: 2024,
        OE_endMonth: 7,
        OE_endDay: 30,
        PE_startYear: 2024,
        PE_startMonth: 7,
        PE_startDay: 30,
        PE_endYear: 2024,
        PE_endMonth: 10,
        PE_endDay: 10,
      },
      {
        id: "6",
        K1_startYear: 2024,
        K1_startMonth: 2,
        K1_startDay: 10,
        K1_endYear: 2024,
        K1_endMonth: 2,
        K1_endDay: 25,
        K2_startYear: 2024,
        K2_startMonth: 2,
        K2_startDay: 10,
        K2_endYear: 2024,
        K2_endMonth: 3,
        K2_endDay: 5,
        K3_startYear: 2024,
        K3_startMonth: 3,
        K3_startDay: 20,
        K3_endYear: 2024,
        K3_endMonth: 3,
        K3_endDay: 20,
        K4_startYear: 2024,
        K4_startMonth: 3,
        K4_startDay: 20,
        K4_endYear: 2024,
        K4_endMonth: 4,
        K4_endDay: 10,
        K5_startYear: 2024,
        K5_startMonth: 3,
        K5_startDay: 20,
        K5_endYear: 2024,
        K5_endMonth: 4,
        K5_endDay: 25,
        K6_startYear: 2024,
        K6_startMonth: 4,
        K6_startDay: 25,
        K6_endYear: 2024,
        K6_endMonth: 6,
        K6_endDay: 10,
        K7_startYear: 2024,
        K7_startMonth: 5,
        K7_startDay: 20,
        K7_endYear: 2024,
        K7_endMonth: 6,
        K7_endDay: 10,
        Rov_startYear: 2024,
        Rov_startMonth: 5,
        Rov_startDay: 20,
        Rov_endYear: 2024,
        Rov_endMonth: 6,
        Rov_endDay: 10,
        InitLoad_startYear: 2024,
        InitLoad_startMonth: 6,
        InitLoad_startDay: 10,
        InitLoad_endYear: 2024,
        InitLoad_endMonth: 7,
        InitLoad_endDay: 20,
        OE_startYear: 2024,
        OE_startMonth: 7,
        OE_startDay: 20,
        OE_endYear: 2024,
        OE_endMonth: 7,
        OE_endDay: 30,
        PE_startYear: 2024,
        PE_startMonth: 7,
        PE_startDay: 30,
        PE_endYear: 2024,
        PE_endMonth: 11,
        PE_endDay: 10,
      },
      {
        id: "6",
        K1_startYear: 2024,
        K1_startMonth: 2,
        K1_startDay: 10,
        K1_endYear: 2024,
        K1_endMonth: 2,
        K1_endDay: 25,
        K2_startYear: 2024,
        K2_startMonth: 3,
        K2_startDay: 10,
        K2_endYear: 2024,
        K2_endMonth: 3,
        K2_endDay: 5,
        K3_startYear: 2024,
        K3_startMonth: 4,
        K3_startDay: 20,
        K3_endYear: 2024,
        K3_endMonth: 3,
        K3_endDay: 20,
        K4_startYear: 2024,
        K4_startMonth: 3,
        K4_startDay: 20,
        K4_endYear: 2024,
        K4_endMonth: 4,
        K4_endDay: 10,
        K5_startYear: 2024,
        K5_startMonth: 3,
        K5_startDay: 20,
        K5_endYear: 2024,
        K5_endMonth: 4,
        K5_endDay: 25,
        K6_startYear: 2024,
        K6_startMonth: 5,
        K6_startDay: 25,
        K6_endYear: 2024,
        K6_endMonth: 6,
        K6_endDay: 10,
        K7_startYear: 2024,
        K7_startMonth: 5,
        K7_startDay: 20,
        K7_endYear: 2024,
        K7_endMonth: 6,
        K7_endDay: 10,
        Rov_startYear: 2024,
        Rov_startMonth: 5,
        Rov_startDay: 20,
        Rov_endYear: 2024,
        Rov_endMonth: 6,
        Rov_endDay: 10,
        InitLoad_startYear: 2024,
        InitLoad_startMonth: 6,
        InitLoad_startDay: 10,
        InitLoad_endYear: 2024,
        InitLoad_endMonth: 7,
        InitLoad_endDay: 20,
        OE_startYear: 2024,
        OE_startMonth: 7,
        OE_startDay: 20,
        OE_endYear: 2024,
        OE_endMonth: 7,
        OE_endDay: 30,
        PE_startYear: 2024,
        PE_startMonth: 7,
        PE_startDay: 30,
        PE_endYear: 2024,
        PE_endMonth: 11,
        PE_endDay: 10,
      },
    // ...
  ]
  const foundItem = v.find(item => item.id === id.toString());
  return foundItem;
}

function getRandomNumber() {
  const min = 1;
  const max = 7;

  // Генерация случайного числа в заданном диапазоне
  const randomNumber = Math.floor(Math.random() * (max - min + 1)) + min;

  return randomNumber;
}

export const initTasks = () => {
  const currentDate = new Date();
  
  //создаем случайное число
  const randomNum = getRandomNumber();
  //добавляем дату
  const startData = getData(randomNum)
  console.log(startData);
  

  const tasks: Task[] = [
    // {
    //   start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 1),
    //   end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 5),
    //   name: "Some Project",
    //   id: "ProjectSample",
    //   progress: 80,
    //   type: "project",

    //   hideChildren: false
    // },
    {
      // start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 1),
      // end: new Date(
      //   currentDate.getFullYear(),
      //   currentDate.getMonth(),
      //   2,
      //   12,
      //   28
      // ),
      start: new Date(startData?.K1_startYear as number, startData?.K1_startMonth as number, startData?.K1_startDay),
      end: new Date(startData?.K1_endYear as number, startData?.K1_endMonth as number, startData?.K1_endDay ),
      name: "K1",
      id: "Task 0",
      progress: 100,
      type: "task",
      project: "ProjectSample"
    },
    {
      // start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 2),
      // end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4, 0, 0),
      start: new Date(startData?.K2_startYear as number, startData?.K2_startMonth as number, startData?.K2_startDay),
      end: new Date(startData?.K2_endYear as number, startData?.K2_endMonth as number, startData?.K2_endDay ),
      name: "K2",
      id: "Task 1",
      progress: 100,
      // dependencies: ["Task 0"],
      type: "task",
      project: "ProjectSample",
      // styles: { progressColor: '#ffbb54', progressSelectedColor: '#ff9e0d' }

    },
    {
      // start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),
      // end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),
      start: new Date(startData?.K3_startYear as number, startData?.K3_startMonth as number, startData?.K3_startDay),
      end: new Date(startData?.K3_endYear as number, startData?.K3_endMonth as number, startData?.K3_endDay ),
      name: "K3",
      id: "Task 2",
      progress: 100,
      // dependencies: ["Task 1"],
      type: "task",
      project: "ProjectSample"
    },
    {
      // start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8),
      // end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 11, 0, 0),
      start: new Date(startData?.K4_startYear as number, startData?.K4_startMonth as number, startData?.K4_startDay),
      end: new Date(startData?.K4_endYear as number, startData?.K4_endMonth as number, startData?.K4_endDay ),
      name: "К4",
      id: "Task 3",
      progress: 100,
      // dependencies: ["Task 2"],
      type: "task",
      project: "ProjectSample"
    },
    // {
    //   start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8),
    //   end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 10),
    //   name: "DevOps. К4",
    //   id: "Task 4",
    //   type: "task",
    //   progress: 100,
    //   // dependencies: ["Task 2"],
    //   project: "ProjectSample"
    // },
    // {
    //   start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 11),
    //   end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 15),
    //   name: "Автотесты. К4",
    //   id: "Task 6",
    //   // progress: currentDate.getMonth(),
    //   progress: 100,
    //   // type: "milestone",
    //   type: "task",
    //   // dependencies: ["Task 4"],
    //   project: "ProjectSample"
    // },
    // {
    //   start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 12),
    //   end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 15),
    //   name: "Мониторинг. К4",
    //   id: "Task 9",
    //   progress: 100,
    //   // isDisabled: true,
    //   type: "task",
    //   dependencies: ["Task 0"],
    // },
    {
      start: new Date(startData?.K5_startYear as number, startData?.K5_startMonth as number, startData?.K5_startDay),
      end: new Date(startData?.K5_endYear as number, startData?.K5_endMonth as number, startData?.K5_endDay ),
      // start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),
      // end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 5),
      name: "К5",
      id: "Task 10",
      progress: 100,
      // isDisabled: true,
      type: "task",
      // dependencies: ["Task 9"],
    },
    // {
    //   start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),
    //   end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 5),
    //   name: "ПСИ. К5",
    //   id: "Task 11",
    //   progress: 100,
    //   // isDisabled: true,
    //   type: "task",
    //   // dependencies: ["Task 10"],
    // },
    {
      start: new Date(startData?.K6_startYear as number, startData?.K6_startMonth as number, startData?.K6_startDay),
      end: new Date(startData?.K6_endYear as number, startData?.K6_endMonth as number, startData?.K6_endDay ),
      name: "К6",
      id: "Task 12",
      progress: 100,
      
      type: "task",
      
    },
    {
      start: new Date(startData?.K7_startYear as number, startData?.K7_startMonth as number, startData?.K7_startDay),
      end: new Date(startData?.K7_endYear as number, startData?.K7_endMonth as number, startData?.K7_endDay ),
      name: "К7",
      id: "Task 14",
      progress: 100,
      
      type: "task",
      
    },
    {
      start: new Date(startData?.Rov_startYear as number, startData?.Rov_startMonth as number, startData?.Rov_startDay),
      end: new Date(startData?.Rov_endYear as number, startData?.Rov_endMonth as number, startData?.Rov_endDay ),
      name: "РоВ",
      id: "Task 15",
      progress: 100,
      // isDisabled: true,
      type: "task",
      // dependencies: ["Task 14"],
    },
    {
      start: new Date(startData?.InitLoad_startYear as number, startData?.InitLoad_startMonth as number, startData?.InitLoad_startDay),
      end: new Date(startData?.InitLoad_endYear as number, startData?.InitLoad_endMonth as number, startData?.InitLoad_endDay ),
      name: "InitLoad-TTK",
      id: "Task 16",
      progress: 100,
      // isDisabled: true,
      type: "task",
      // dependencies: ["Task 15"],
    },
    {
      start: new Date(startData?.OE_startYear as number, startData?.OE_startMonth as number, startData?.OE_startDay),
      end: new Date(startData?.OE_endYear as number, startData?.OE_endMonth as number, startData?.OE_endDay ),
      name: "Старт ОЭ",
      id: "Task 17",
      progress: 100,
      // isDisabled: true,
      type: "task",
      // dependencies: ["Task 16"],
    },
    {
      // start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 14),
      
      // start: new Date(2023, 7, 10),
      // end: new Date(2023, 7, 10),
      // end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 16,0,0),
      start: new Date(startData?.PE_startYear as number, startData?.PE_startMonth as number, startData?.PE_startDay),
      end: new Date(startData?.PE_endYear as number, startData?.PE_endMonth as number, startData?.PE_endDay ),
      name: "Старт ПЭ",
      id: "Task 18",
      progress: 100,
      // isDisabled: true,
      type: "task",
      // dependencies: ["Task 17"],
    }
  ];
  return tasks;
};

export const getStartEndDateForProject = (tasks: Task[], projectId: string) => {
  const projectTasks = tasks.filter((t) => t.project === projectId);
  let start = projectTasks[0].start;
  let end = projectTasks[0].end;

  for (let i = 0; i < projectTasks.length; i++) {
    const task = projectTasks[i];
    if (start.getTime() > task.start.getTime()) {
      start = task.start;
    }
    if (end.getTime() < task.end.getTime()) {
      end = task.end;
    }
  }
  return [start, end];
};
